exports.ids=[3],exports.modules={27:function(t,e,r){"use strict";r.d(e,"e",(function(){return d})),r.d(e,"g",(function(){return o})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return n})),r.d(e,"d",(function(){return v})),r.d(e,"f",(function(){return _})),r.d(e,"b",(function(){return m}));var l=r(6);const d=data=>Object(l.b)({method:"GET",url:"/api/articles",data:data}),o=data=>Object(l.b)({method:"GET",url:"/api/articles/feed",data:data}),c=t=>Object(l.b)({method:"POST",url:`/api/articles/${t}/favorite`}),n=t=>Object(l.b)({method:"DELETE",url:`/api/articles/${t}/favorite`}),v=t=>Object(l.b)({method:"GET",url:"/api/articles/"+t}),_=t=>Object(l.b)({method:"GET",url:`/api/articles/${t}/comments`}),m=data=>Object(l.b)({method:"POST",url:"/api/articles",data:data})},30:function(t,e,r){"use strict";r.r(e);var l=r(27),d=r(6);var o=r(7),c={name:"HomeIndex",async asyncData({query:t}){const e=parseInt(t.page||1),r=t.tab||"global_feed",o=t.tag,c="global_feed"===r?l.e:l.g,[n,v]=await Promise.all([c({limit:20,offset:20*(e-1),tag:o}),Object(d.b)({method:"GET",url:"/api/tags"})]),{articles:_,articlesCount:m}=n.data,{tags:f}=v.data;return _.forEach(article=>article.favoriteDisabled=!1),{articles:_,articlesCount:m,limit:20,page:e,tags:f,tab:r,tag:o}},watchQuery:["page","tag","tab"],computed:{...Object(o.mapState)(["user"]),totalPage(){return Math.ceil(this.articlesCount/this.limit)}},methods:{async onFavorite(article){article.favoriteDisabled=!0,article.favorited?(await Object(l.c)(article.slug),article.favorited=!1,article.favoritesCount-=1):(await Object(l.a)(article.slug),article.favorited=!0,article.favoritesCount+=1),article.favoriteDisabled=!1}}},n=r(1);var component=Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-page"},[t._ssrNode('<div class="banner" data-v-0bbabcbb><div class="container" data-v-0bbabcbb><h1 class="logo-font" data-v-0bbabcbb>conduit</h1> <p data-v-0bbabcbb>A place to share your knowledge.</p></div></div> '),t._ssrNode('<div class="container page" data-v-0bbabcbb>',"</div>",[t._ssrNode('<div class="row" data-v-0bbabcbb>',"</div>",[t._ssrNode('<div class="col-md-9" data-v-0bbabcbb>',"</div>",[t._ssrNode('<div class="feed-toggle" data-v-0bbabcbb>',"</div>",[t._ssrNode('<ul class="nav nav-pills outline-active" data-v-0bbabcbb>',"</ul>",[t.user?t._ssrNode('<li class="nav-item" data-v-0bbabcbb>',"</li>",[r("nuxt-link",{staticClass:"nav-link",class:{active:"your_feed"===t.tab},attrs:{exact:"",to:{name:"home",query:{tab:"your_feed"}}}},[t._v("Your Feed")])],1):t._e(),t._ssrNode(" "),t._ssrNode('<li class="nav-item" data-v-0bbabcbb>',"</li>",[r("nuxt-link",{staticClass:"nav-link",class:{active:"global_feed"===t.tab},attrs:{exact:"",to:{name:"home"}}},[t._v("Global Feed")])],1),t._ssrNode(" "),t.tag?t._ssrNode('<li class="nav-item" data-v-0bbabcbb>',"</li>",[r("nuxt-link",{staticClass:"nav-link",class:{active:"tag"===t.tab},attrs:{exact:"",to:{name:"home",query:{tab:"tag",tag:t.tag}}}},[t._v("# "+t._s(t.tag))])],1):t._e()],2)]),t._ssrNode(" "),t._l(t.articles,(function(article){return t._ssrNode('<div class="article-preview" data-v-0bbabcbb>',"</div>",[t._ssrNode('<div class="article-meta" data-v-0bbabcbb>',"</div>",[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username,slug:article.slug}}}},[r("img",{attrs:{src:article.author.image}})]),t._ssrNode(" "),t._ssrNode('<div class="info" data-v-0bbabcbb>',"</div>",[r("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username,slug:article.slug}}}},[t._v("\n                "+t._s(article.author.username)+"\n              ")]),t._ssrNode(' <span class="date" data-v-0bbabcbb>'+t._ssrEscape(t._s(t._f("date")(article.createdAt,"MMM DD,YYYY")))+"</span>")],2),t._ssrNode(" <button"+t._ssrAttr("disabled",article.favoriteDisabled)+t._ssrClass("btn btn-outline-primary btn-sm pull-xs-right",{active:article.favorited})+' data-v-0bbabcbb><i class="ion-heart" data-v-0bbabcbb></i>'+t._ssrEscape(" "+t._s(article.favoritesCount)+"\n            ")+"</button>")],2),t._ssrNode(" "),r("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:article.slug}}}},[r("h1",[t._v(t._s(article.title))]),t._v(" "),r("p",[t._v(t._s(article.description))]),t._v(" "),r("span",[t._v("Read more...")])])],2)})),t._ssrNode(" "),t._ssrNode("<nav data-v-0bbabcbb>","</nav>",[t._ssrNode('<ul class="pagination" data-v-0bbabcbb>',"</ul>",t._l(t.totalPage,(function(e){return t._ssrNode("<li"+t._ssrClass("page-item",{active:e===t.page})+" data-v-0bbabcbb>","</li>",[r("nuxt-link",{staticClass:"page-link",attrs:{to:{name:"home",query:{page:e,tag:t.tag,tab:t.tab}}}},[t._v(t._s(e))])],1)})),0)])],2),t._ssrNode(" "),t._ssrNode('<div class="col-md-3" data-v-0bbabcbb>',"</div>",[t._ssrNode('<div class="sidebar" data-v-0bbabcbb>',"</div>",[t._ssrNode("<p data-v-0bbabcbb>Popular Tags</p> "),t._ssrNode('<div class="tag-list" data-v-0bbabcbb>',"</div>",t._l(t.tags,(function(e){return r("nuxt-link",{key:e,staticClass:"tag-pill tag-default",attrs:{to:{name:"home",query:{tag:e}}}},[t._v(t._s(e))])})),1)],2)])],2)])],2)}),[],!1,(function(t){}),"0bbabcbb","5aa8d3f9");e.default=component.exports}};